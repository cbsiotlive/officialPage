<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <style>
        .msg-error {
            color: #c65848;
        }

        .g-recaptcha.error {
            border: solid 2px #c64848;
            padding: .2em;
            width: 19em;
        }
    </style>
    <title>Document</title>
</head>

<body>

    <!-- <div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;"> -->

    <form class="p-4">
        <h5 class="card-title">Your current location is:</h5>
        <p class="location">Loding...</p>
        <div class="row">
            <div class="col">
                <label for="exampleFormControlSelect1">Name</label>
                <input type="text" class="form-control" placeholder="First name">
            </div>
            <div class="col">
                <label for="exampleFormControlSelect1">Phone Number</label>
                <input type="text" class="form-control" placeholder="Last name">
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="exampleFormControlSelect1">Email</label>
                <input type="email" class="form-control" placeholder="First name">
            </div>
            <div class="col">
                <label for="exampleFormControlSelect1">Location</label>
                <input type="text" class="form-control" placeholder="Last name">
            </div>
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Company Name</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder=".Pvt">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Subject</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Subject:">
        </div>
        <div class="form-group">
            <label for="exampleFormControlTextarea1">Comments *</label>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
        </div>



        <span class="msg-error error"></span>
        <div id="recaptcha" class="g-recaptcha" data-sitekey="6Ld0lZEUAAAAAJAK1wPWcVxwOlc1qgFcSIcU1das"
            data-callback="aaa">
        </div>
        <!-- Add a button with the id 'btn-validate' -->
        <!-- <button id="btn-validate">Validate reCAPTCHA</button> -->
        <button type="button" class="btn btn-primary btn-lg btn-block">Subbmit</button>
    </form>

    <!-- </div> -->


    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        //I am not a robot
        function aaa() {
            console.log('cccc')
        }

        $('#btn-validate').click(function () {
            var $captcha = $('#recaptcha'),
                response = grecaptcha.getResponse();

            if (response.length === 0) {
                $('.msg-error').text("reCAPTCHA is mandatory");
                if (!$captcha.hasClass("error")) {
                    $captcha.addClass("error");
                }
            } else {
                $('.msg-error').text('');
                $captcha.removeClass("error");
                alert('reCAPTCHA marked');
            }
        })


        //Location
        var $locationText = $(".location");

        // Check for geolocation browser support and execute success method
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                geoLocationSuccess,
                geoLocationError,
                { timeout: 10000 }
            );
        } else {
            alert("your browser doesn't support geolocation");
        }
        function geoLocationSuccess(pos) {
            // get user lat,long
            var myLat = pos.coords.latitude,
                myLng = pos.coords.longitude,
                loadingTimeout;

            var loading = function () {
                $locationText.text("fetching...");
            };

            loadingTimeout = setTimeout(loading, 600);

            var request = $.get(
                "https://nominatim.openstreetmap.org/reverse?format=json&lat=" +
                myLat +
                "&lon=" +
                myLng
            )
                .done(function (data) {
                    if (loadingTimeout) {
                        clearTimeout(loadingTimeout);
                        loadingTimeout = null;
                        $locationText.text(data.display_name);
                        console.log(data.display_name);
                    }
                })
                .fail(function () {
                    // handle error
                });
        }
        function geoLocationError(error) {
            var errors = {
                1: "Permission denied",
                2: "Position unavailable",
                3: "Request timeout"
            };
            alert("Error: " + errors[error.code]);
        }
    </script>
</body>

</html>